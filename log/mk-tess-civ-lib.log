-----------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/smorgan/Documents/GitHub/tess-civil-liberties/log/mk-tess-civ-lib.log
  log type:  text
 opened on:  10 Mar 2019, 11:34:34

. 
. ********************************************************************************
. *** Load raw data
. ********************************************************************************
. 
. use data/tess030_morgan_6march19.dta

. rename *, lower

. 
. ********************************************************************************
. *** Code core experimental variables
. ********************************************************************************
. 
. *** outcome variables
. 
. rename q1   mcspk

. rename q2   mccol

. rename q3   mclib

. rename q3a  icspk

. rename q5   iccol

. rename q6   iclib

. rename q7   irlspk

. rename q8   irlcol

. rename q9   irllib

. 
. label define tolerant 0 "not tolerant" 1 "tolerant" 

. 
. foreach var of varlist mcspk mccol icspk iccol irlspk irlcol {
  2.   replace `var' = .d if `var' == 98
  3.   recode `var' 2 = 0
  4.   label values `var' tolerant
  5.   codebook `var'
  6.   tab `var' [aweight=weight]
  7. }
(2 real changes made, 2 to missing)
(mcspk: 358 changes made)

-----------------------------------------------------------------------------------------------
mcspk          If such a person wanted to make a speech in your community preaching hatred of t
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,310/2,019
       unique mv codes:  2                       missing .*:  2/2,019

            tabulation:  Freq.   Numeric  Label
                           358         0  not tolerant
                           349         1  tolerant
                         1,310         .  
                             2        .d  

   If such a |
      person |
   wanted to |
      make a |
   speech in |
        your |
   community |
   preaching |
 hatred of t |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant |365.5754405       51.71       51.71
    tolerant |341.4245595       48.29      100.00
-------------+-----------------------------------
       Total |        707      100.00
(5 real changes made, 5 to missing)
(mccol: 497 changes made)

-----------------------------------------------------------------------------------------------
mccol              Should such a person be allowed to teach in a college or university, or not?
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,310/2,019
       unique mv codes:  2                       missing .*:  5/2,019

            tabulation:  Freq.   Numeric  Label
                           497         0  not tolerant
                           207         1  tolerant
                         1,310         .  
                             5        .d  

 Should such |
 a person be |
  allowed to |
  teach in a |
  college or |
 university, |
     or not? |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 503.947212       71.58       71.58
    tolerant | 200.052788       28.42      100.00
-------------+-----------------------------------
       Total |        704      100.00
(1 real change made, 1 to missing)
(icspk: 372 changes made)

-----------------------------------------------------------------------------------------------
icspk          If such a person wanted to make a speech in your community preaching hatred of t
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,359/2,019
       unique mv codes:  2                       missing .*:  1/2,019

            tabulation:  Freq.   Numeric  Label
                           372         0  not tolerant
                           287         1  tolerant
                         1,359         .  
                             1        .d  

   If such a |
      person |
   wanted to |
      make a |
   speech in |
        your |
   community |
   preaching |
 hatred of t |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 391.898116       59.47       59.47
    tolerant | 267.101884       40.53      100.00
-------------+-----------------------------------
       Total |        659      100.00
(1 real change made, 1 to missing)
(iccol: 500 changes made)

-----------------------------------------------------------------------------------------------
iccol              Should such a person be allowed to teach in a college or university, or not?
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,359/2,019
       unique mv codes:  2                       missing .*:  1/2,019

            tabulation:  Freq.   Numeric  Label
                           500         0  not tolerant
                           159         1  tolerant
                         1,359         .  
                             1        .d  

 Should such |
 a person be |
  allowed to |
  teach in a |
  college or |
 university, |
     or not? |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 507.511172       77.01       77.01
    tolerant | 151.488828       22.99      100.00
-------------+-----------------------------------
       Total |        659      100.00
(0 real changes made)
(irlspk: 352 changes made)

-----------------------------------------------------------------------------------------------
irlspk         If such a person wanted to make a speech in your community preaching hatred of t
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,369/2,019

            tabulation:  Freq.   Numeric  Label
                           352         0  not tolerant
                           298         1  tolerant
                         1,369         .  

   If such a |
      person |
   wanted to |
      make a |
   speech in |
        your |
   community |
   preaching |
 hatred of t |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 358.321111       55.13       55.13
    tolerant | 291.678889       44.87      100.00
-------------+-----------------------------------
       Total |        650      100.00
(1 real change made, 1 to missing)
(irlcol: 487 changes made)

-----------------------------------------------------------------------------------------------
irlcol             Should such a person be allowed to teach in a college or university, or not?
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,369/2,019
       unique mv codes:  2                       missing .*:  1/2,019

            tabulation:  Freq.   Numeric  Label
                           487         0  not tolerant
                           162         1  tolerant
                         1,369         .  
                             1        .d  

 Should such |
 a person be |
  allowed to |
  teach in a |
  college or |
 university, |
     or not? |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 498.994548       76.89       76.89
    tolerant | 150.005452       23.11      100.00
-------------+-----------------------------------
       Total |        649      100.00

. 
. foreach var of varlist mclib iclib irllib {
  2.  replace `var' = .d if `var' == 98
  3.  recode `var' 1 = 0 2 = 1
  4.  label values `var' tolerant
  5.  codebook `var'
  6.  tab `var' [aweight=weight]
  7. }
(6 real changes made, 6 to missing)
(mclib: 703 changes made)

-----------------------------------------------------------------------------------------------
mclib          If some people in your community suggested that a book he wrote which preaches h
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,310/2,019
       unique mv codes:  2                       missing .*:  6/2,019

            tabulation:  Freq.   Numeric  Label
                           314         0  not tolerant
                           389         1  tolerant
                         1,310         .  
                             6        .d  

     If some |
   people in |
        your |
   community |
   suggested |
 that a book |
    he wrote |
       which |
  preaches h |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 334.012878       47.51       47.51
    tolerant | 368.987122       52.49      100.00
-------------+-----------------------------------
       Total |        703      100.00
(4 real changes made, 4 to missing)
(iclib: 656 changes made)

-----------------------------------------------------------------------------------------------
iclib          If some people in your community suggested that a book written by this person wh
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,359/2,019
       unique mv codes:  2                       missing .*:  4/2,019

            tabulation:  Freq.   Numeric  Label
                           304         0  not tolerant
                           352         1  tolerant
                         1,359         .  
                             4        .d  

     If some |
   people in |
        your |
   community |
   suggested |
 that a book |
  written by |
 this person |
          wh |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant |  336.65385       51.32       51.32
    tolerant |  319.34615       48.68      100.00
-------------+-----------------------------------
       Total |        656      100.00
(0 real changes made)
(irllib: 650 changes made)

-----------------------------------------------------------------------------------------------
irllib         If some people in your community suggested that a book written by this person wh
-----------------------------------------------------------------------------------------------

                  type:  numeric (byte)
                 label:  tolerant

                 range:  [0,1]                        units:  1
         unique values:  2                        missing .:  1,369/2,019

            tabulation:  Freq.   Numeric  Label
                           278         0  not tolerant
                           372         1  tolerant
                         1,369         .  

     If some |
   people in |
        your |
   community |
   suggested |
 that a book |
  written by |
 this person |
          wh |      Freq.     Percent        Cum.
-------------+-----------------------------------
not tolerant | 281.295904       43.28       43.28
    tolerant | 368.704096       56.72      100.00
-------------+-----------------------------------
       Total |        650      100.00

. 
. *** treatment variables
. 
. rename p_condition treat

. label define treatment 1 "mc" 2 "ic" 3 "irl"

. label values treat treatment

. tab treat, gen(tmp)

 DATA-ONLY: |
   Randomly |
   assigned |
  condition |
for TESS030 |      Freq.     Percent        Cum.
------------+-----------------------------------
         mc |        709       35.12       35.12
         ic |        660       32.69       67.81
        irl |        650       32.19      100.00
------------+-----------------------------------
      Total |      2,019      100.00

. rename tmp1 mc

. rename tmp2 ic

. rename tmp3 irl

. 
. *** outcomes, combining treatments
. 
. local domain spk col lib 

. 
. foreach dom in `domain' {
  2.   gen `dom' = .
  3.   replace `dom' = mc`dom' if mc == 1 & mc`dom' < .
  4.   replace `dom' = ic`dom' if ic == 1 & ic`dom' < .
  5.   replace `dom' = irl`dom' if irl == 1 & irl`dom' < .
  6.   label values `dom' tolerant
  7. }
(2,019 missing values generated)
(707 real changes made)
(659 real changes made)
(650 real changes made)
(2,019 missing values generated)
(704 real changes made)
(659 real changes made)
(649 real changes made)
(2,019 missing values generated)
(703 real changes made)
(656 real changes made)
(650 real changes made)

. 
. ********************************************************************************
. *** Recode AmeriSpeak demographics, etc., and organize
. ********************************************************************************
. 
. ***convert strings and impose order
. 
. encode state, gen(tmp)

. drop state

. rename tmp state

. 
. encode device, gen(tmp)

. drop device

. rename tmp device

. 
. *** code dk's and other similar as missing
. recode ideo 8 = .
(ideo: 136 changes made)

. 
. *** recode
. rename gender female

. recode female 1 = 0 2 = 1
(female: 2019 changes made)

. 
. *** paradata recode
. drop surv_mode // because constant (all web, no phone)

. recode duration 0 = 1  1/3 = 2 4/6 = 3 7/9 =4 10/max = 5, gen(durint)
(1430 differences between duration and durint)

. label define durint 1 "lt 1 min" 2 "1-3 mins" 3 "4-6 mins" 4 "7-9 mins" ///
>   5 "10 or more mins" 

. label values durint durint

. tab durint device, col

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

      RECODE of |
       duration |
     (Interview |
    duration in |              Device
       minutes) |   Desktop  Smartphon     Tablet |     Total
----------------+---------------------------------+----------
       lt 1 min |         6         16          0 |        22 
                |      0.72       1.52       0.00 |      1.09 
----------------+---------------------------------+----------
       1-3 mins |       549        640         73 |     1,262 
                |     65.44      60.72      57.94 |     62.51 
----------------+---------------------------------+----------
       4-6 mins |       187        242         38 |       467 
                |     22.29      22.96      30.16 |     23.13 
----------------+---------------------------------+----------
       7-9 mins |        42         47          5 |        94 
                |      5.01       4.46       3.97 |      4.66 
----------------+---------------------------------+----------
10 or more mins |        55        109         10 |       174 
                |      6.56      10.34       7.94 |      8.62 
----------------+---------------------------------+----------
          Total |       839      1,054        126 |     2,019 
                |    100.00     100.00     100.00 |    100.00 

. 
. order caseid startdt enddt duration weight state treat mc ic irl spk col ///
>       lib mcspk-irllib age hh* device durint

.           
. codebook, c

Variable       Obs Unique      Mean       Min       Max  Label
-----------------------------------------------------------------------------------------------
caseid        2019   2019  3347.897        53      6683  Case ID
startdt       2019   2014  1.86e+12  1.86e+12  1.87e+12  Start Date/Time
enddt         2019   2008  1.86e+12  1.86e+12  1.87e+12  END Date/Time
duration      2019    124   208.259         0     18777  Interview duration in minutes
weight        2019   2004         1  .0300869  12.79075  Post-stratification weights - 18+ g...
state         2019     50  23.15849         1        50  State
treat         2019      3  1.970778         1         3  DATA-ONLY: Randomly assigned condit...
mc            2019      2  .3511639         0         1  treat==mc
ic            2019      2  .3268945         0         1  treat==ic
irl           2019      2  .3219416         0         1  treat==irl
spk           2016      2  .4632937         0         1  
col           2012      2  .2624254         0         1  
lib           2009      2   .554007         0         1  
mcspk          707      2  .4936351         0         1  If such a person wanted to make a s...
mccol          704      2  .2940341         0         1  Should such a person be allowed to ...
mclib          703      2  .5533428         0         1  If some people in your community su...
icspk          659      2  .4355083         0         1  If such a person wanted to make a s...
iccol          659      2  .2412747         0         1  Should such a person be allowed to ...
iclib          656      2  .5365854         0         1  If some people in your community su...
irlspk         650      2  .4584615         0         1  If such a person wanted to make a s...
irlcol         649      2  .2496148         0         1  Should such a person be allowed to ...
irllib         650      2  .5723077         0         1  If some people in your community su...
age           2019     72  48.74393        18        94  Respondent age
hhsize        2019      6  3.074294         1         6  Household size (including children
hh01          2019      3  .0351659         0         2  Number of HH members age 0-1
hh25          2019      6   .210005         0         6  Number of HH members age 2-5
hh612         2019      8   .329371         0         8  Number of HH members age 6-12
hh1317        2019      6  .2540862         0         5  Number of HH members age 13-17
hh18ov        2019     11  2.358098         1        11  Number of HH members age 18+
device        2019      3  51.64685        51        53  Device
durint        2019      5  2.572065         1         5  RECODE of duration (Interview durat...
partyid7      2012      7  3.721173         1         7  DATA-ONLY: Computed 7-level politic...
ideo          1881      7  3.139819         1         7  DATA-ONLY: Computed 7-level politi... 
relig         1998     14  6.213714         1        14  What is your present religion, if any?
attend        1997      9  4.006009         1         9  How often do you attend religious s...
female        2019      2  .5487865         0         1  Respondent gender
age4          2019      4  2.736503         1         4  Age - 4 Categories
age7          2019      7  3.917781         1         7  Age - 7 Categories
racethnicity  2019      6   1.83259         1         6  Combined Race/Ethnicity
educ          2019     14  10.68796         1        14  Education (Highest Degree Received)
educ4         2019      4   3.08321         1         4  4-level education
marital       2019      6  2.610203         1         6  Marital Status
employ        2019      7  2.756315         1         7  Current Employment Status
income        2019     18  10.01932         1        18  Household Income
region4       2019      4  2.657256         1         4  4-level region
region9       2019      9  5.149084         1         9  9-level region
metro         2019      2  .8925211         0         1  Metropolitan area flag
internet      2019      2  .9103517         0         1  HH internet access via dial-up, DSL...
housing       2019      3  1.371966         1         3  Home Ownership
home_type     2019      5  1.669638         1         5  Type of building of panelists' resi...
phoneservice  2019      5  3.237246         1         5  Telephone service for the household
-----------------------------------------------------------------------------------------------

. 
. ********************************************************************************
. *** Save data file for analysis
. ********************************************************************************
. 
. save data/tess-civ-lib.dta, replace
file data/tess-civ-lib.dta saved

. 
. log close
      name:  <unnamed>
       log:  /Users/smorgan/Documents/GitHub/tess-civil-liberties/log/mk-tess-civ-lib.log
  log type:  text
 closed on:  10 Mar 2019, 11:34:35
-----------------------------------------------------------------------------------------------
